function setupLazyLoading(){const e=Array.from(document.querySelectorAll(".lazy-bg"));if(0===e.length)return void setTimeout(setupLazyLoading,200);if("IntersectionObserver"in window){const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const r=e.target,o=r.getAttribute("data-bg");o&&(r.style.backgroundImage="url("+o+")",r.classList.remove("lazy-bg")),t.unobserve(r)}})},{rootMargin:"200px 0px"});e.forEach(e=>t.observe(e))}else e.forEach(e=>{const t=e.getAttribute("data-bg");t&&(e.style.backgroundImage="url("+t+")")});const t=Array.from(document.querySelectorAll(".lazy-video"));if("IntersectionObserver"in window&&t.length>0){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const r=e.target,o=r.getAttribute("data-src");o&&(r.src=o,r.load(),r.play().catch(()=>{}),r.classList.remove("lazy-video")),t.unobserve(r)}})},{rootMargin:"100px 0px"});t.forEach(t=>e.observe(t))}else t.length>0&&t.forEach(e=>{const t=e.getAttribute("data-src");t&&(e.src=t,e.load())})}window.addEventListener("load",function(){const e=Array.from(document.querySelectorAll("#servicios .reveal"));if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("in")})},{rootMargin:"0px 0px -10% 0px",threshold:.1});e.forEach(e=>t.observe(e))}else e.forEach(e=>e.classList.add("in"));const t=document.querySelector("#servicios");if(t&&"IntersectionObserver"in window){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?document.body.classList.add("services-in"):document.body.classList.remove("services-in")})},{rootMargin:"0px",threshold:.2}).observe(t)}function r(){Array.from(document.querySelectorAll("#servicios .reveal")).forEach(e=>e.classList.add("in")),document.body.classList.add("services-in")}!window.__servIO&&t&&"IntersectionObserver"in window&&(window.__servIO=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&r()})},{rootMargin:"0px",threshold:.2}),window.__servIO.observe(t)),Array.from(document.querySelectorAll('a[href="#servicios"]')).forEach(e=>{e.addEventListener("click",()=>setTimeout(r,300))}),window.addEventListener("hashchange",()=>{"#servicios"===location.hash&&setTimeout(r,100)}),"#servicios"===location.hash&&setTimeout(r,200)}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>setTimeout(setupLazyLoading,300)):setTimeout(setupLazyLoading,300);