<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Galería Vinito y Tarot · Ser Magia</title><link rel="preconnect" href="https://lh3.googleusercontent.com"><link rel="dns-prefetch" href="https://lh3.googleusercontent.com"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Merienda:wght@300..900&display=swap" rel="stylesheet"><script src="https://cdn.tailwindcss.com"></script><style>:root{color-scheme:dark}body{font-family:Merienda,system-ui,cursive;min-height:100vh;margin:0;background-image:url('./assets/CieloEstrelladoMagico.png');background-attachment:fixed;background-size:cover;background-position:center;color:#ffc8ff}main{padding-bottom:5rem}#gallery-collage{display:grid;grid-template-columns:repeat(3,1fr);gap:2.5rem;margin-top:2.5rem;padding:1rem;justify-items:center;max-width:1200px;margin-left:auto;margin-right:auto}.polaroid{width:336px;background:rgba(252,249,255,.98);padding:1.2rem 1.2rem 3rem;border-radius:3px;box-shadow:0 14px 30px rgba(0,0,0,.35),0 0 0 1px rgba(255,255,255,.2);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;transform:rotate(0);opacity:0;animation:fadeInUp .6s ease forwards}@keyframes fadeInUp{from{opacity:0;transform:translateY(30px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(0)}}.polaroid img{width:100%;height:336px;display:block;border-radius:6px;object-fit:cover}.polaroid figcaption{margin-top:.6rem;font-size:1.5rem;text-align:center;font-family:Caveat,cursive;font-weight:700;color:#1a0b2e;line-height:1.2}.polaroid:hover{transform:translateY(-8px) scale(1.05) rotate(3deg);box-shadow:0 18px 40px rgba(0,0,0,.4),0 0 0 1px rgba(255,255,255,.35)}#gallery-loader{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:2.5rem}#gallery-loader.hidden{display:none}.loader-eye{width:280px;height:auto;position:relative;animation:float 3s ease-in-out infinite,fadeInOut 2.5s ease-in-out infinite;filter:drop-shadow(0 0 30px rgba(217, 128, 249, .7))}.loader-eye::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120%;height:120%;background:radial-gradient(circle,rgba(217,128,249,.4) 0,rgba(138,11,210,.2) 40%,transparent 70%);border-radius:50%;z-index:-1;animation:glowPulse 2.5s ease-in-out infinite}@keyframes glowPulse{0%,100%{transform:translate(-50%,-50%) scale(.8);opacity:.4}50%{transform:translate(-50%,-50%) scale(1.2);opacity:.8}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes fadeInOut{0%,100%{opacity:.3}50%{opacity:1}}.loader-text{font-family:Caveat,cursive;font-size:3rem;font-weight:700;color:#fff;text-shadow:0 0 30px rgba(217,128,249,.9);animation:fadeInOut 2.5s ease-in-out infinite}@media (max-width:768px){.loader-eye{width:200px;height:auto}.loader-text{font-size:2.5rem}}.polaroid:nth-child(6n+1){transform:rotate(-2deg);animation-delay:50ms}.polaroid:nth-child(6n+2){transform:rotate(1deg);animation-delay:.1s}.polaroid:nth-child(6n+3){transform:rotate(-1deg);animation-delay:.15s}.polaroid:nth-child(6n+4){transform:rotate(2deg);animation-delay:.2s}.polaroid:nth-child(6n+5){transform:rotate(-1.5deg);animation-delay:.25s}.polaroid:nth-child(6n+6){transform:rotate(1.5deg);animation-delay:.3s}@media (max-width:1024px){#gallery-collage{grid-template-columns:repeat(2,1fr);gap:2rem}.polaroid{width:100%;max-width:336px}.polaroid img{height:336px}}@media (max-width:640px){#gallery-collage{grid-template-columns:1fr;gap:1.5rem}.polaroid{width:100%;max-width:320px;padding:.8rem .8rem 2rem;transform:rotate(0)!important}.polaroid img{height:320px}}.lightbox{position:fixed;inset:0;display:none;background:rgba(0,0,0,.9);z-index:9999;justify-content:center;align-items:center}.lightbox.active{display:flex}.lightbox img{max-width:85%;max-height:85%;object-fit:contain;border-radius:8px;box-shadow:0 18px 40px rgba(0,0,0,.65)}@media (max-width:768px){.lightbox img{max-width:95%;max-height:95%}}.lightbox-close{position:absolute;top:1.5rem;right:1.5rem;background:0 0;border:none;color:#fff;font-size:2.5rem;line-height:1;cursor:pointer;transition:transform .15s ease,color .15s ease;z-index:1001}.lightbox-close:hover{transform:scale(1.1);color:#f2bb66}.lightbox-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.5);border:2px solid rgba(255,255,255,.3);color:#fff;width:50px;height:50px;border-radius:50%;font-size:1.5rem;cursor:pointer;transition:all .2s ease;z-index:1001;display:flex;align-items:center;justify-content:center}.lightbox-nav:hover{background:rgba(242,187,102,.8);border-color:#f2bb66;transform:translateY(-50%) scale(1.1)}.lightbox-prev{left:2rem}.lightbox-next{right:2rem}@media (max-width:768px){.lightbox-nav{width:40px;height:40px;font-size:1.2rem}.lightbox-prev{left:1rem}.lightbox-next{right:1rem}}</style></head><body><main class="max-w-6xl mx-auto px-4 pt-8"><header class="text-center mb-8"><a href="index.html" class="inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/25 px-5 py-2 text-sm hover:bg-white/20 transition"><span>←</span> <span>Volver al sitio</span></a><h1 class="mt-6 text-4xl md:text-5xl font-bold drop-shadow-[0_0_18px_rgba(0,0,0,0.6)]">Galería Vinito & Tarot</h1><p class="mt-3 text-lg md:text-xl text-white/85 max-w-2xl mx-auto">Momentos mágicos, copas compartidas y cartas desplegadas en la mesa. Un collage vivo de cada encuentro.</p></header><section aria-label="Galería de fotos Vinito y Tarot"><div id="gallery-loader"><img src="./assets/ojo.png" alt="Cargando..." class="loader-eye"><p class="loader-text">canalizando...</p></div><div id="gallery-collage"></div></section><div id="error" class="hidden max-w-2xl mx-auto text-center text-sm text-rose-100/90 bg-rose-900/50 border border-rose-500/60 rounded-2xl px-6 py-5 mt-8"><p class="font-semibold mb-2 text-base">⚠️ Error al cargar la galería</p><p class="text-xs opacity-80">Verificá la consola del navegador para más detalles.</p></div></main><div id="lightbox" class="lightbox"><button class="lightbox-close" aria-label="Cerrar imagen">&times;</button> <button class="lightbox-nav lightbox-prev" aria-label="Imagen anterior">‹</button> <button class="lightbox-nav lightbox-next" aria-label="Imagen siguiente">›</button> <img id="lightbox-img" src="" alt="Imagen ampliada"></div><script>const FOLDER_ID="1Bxd0wn9JAverBu6A6rfpUJasNLcXKESj",DRIVE_API_URL="https://script.google.com/macros/s/AKfycbydgCXVICkBE0-QmFl9AlDaEnQGa79DybfLadmgrADq8xrRgEqoLEGhZrXqtEh_obI/exec",IMAGE_IDS=[];function buildImageFromId(e){return{name:"",url:"https://drive.google.com/uc?export=view&id="+e}}function convertDriveUrl(e){if(e.includes("lh3.googleusercontent.com"))return e;const t=e.match(/[?&]id=([^&]+)/);if(t&&t[1]){return"https://lh3.googleusercontent.com/d/"+t[1]+"=s0"}return e}function cleanFileName(e){return e?e.replace(/\.(jpg|jpeg|png|gif|webp|jfif|bmp|svg)$/i,""):""}function createPolaroidElement(e,t,o){const n=document.createElement("figure");n.className="polaroid";const r=document.createElement("img");r.src=e.url;const a=cleanFileName(e.name);r.alt=a||"Foto "+(t+1),r.loading=t<9?"eager":"lazy",t<6&&(r.fetchPriority="high");const i=document.createElement("figcaption");return i.textContent=a||"",n.appendChild(r),n.appendChild(i),n.addEventListener("click",function(){openLightbox(e.url,r.alt,o,t)}),n}function renderCollage(e){const t=document.getElementById("gallery-collage"),o=document.getElementById("gallery-loader");t.innerHTML="",e.forEach(function(o,n){if(!o||!o.url)return;const r=createPolaroidElement(o,n,e);t.appendChild(r)}),o&&o.classList.add("hidden")}async function loadGallery(){const e=document.getElementById("error"),t=document.getElementById("gallery-loader");function o(o){if(t&&t.classList.add("hidden"),e&&(e.classList.remove("hidden"),o)){const t=e.querySelector("p");t&&(t.textContent=o)}}try{if(IMAGE_IDS.length>0&&IMAGE_IDS[0]){return void renderCollage(IMAGE_IDS.map(buildImageFromId))}if(DRIVE_API_URL&&""!==DRIVE_API_URL.trim()){const e=await fetch(DRIVE_API_URL,{cache:"no-store"});if(!e.ok)throw new Error("La API devolvió un estado no OK");const t=await e.json();if(!Array.isArray(t)||0===t.length)throw new Error("La API devolvió una lista vacía.");const o=t.map(function(e){if("string"==typeof e)return buildImageFromId(e);if(e.url){const t=convertDriveUrl(e.url);return{name:e.name||e.caption||"",url:t,modifiedTime:e.modifiedTime}}return e.id||e.fileId?buildImageFromId(e.id||e.fileId):null}).filter(Boolean);return o.length>0&&o[0].modifiedTime?o.sort(function(e,t){return new Date(t.modifiedTime)-new Date(e.modifiedTime)}):o.reverse(),void renderCollage(o)}console.warn("⚠️ [Galería] No hay fotos configuradas. Necesitás configurar IMAGE_IDS o DRIVE_API_URL"),o("⚠️ Falta configurar la API de Google Apps Script o la lista IMAGE_IDS.")}catch(e){console.error("❌ [Galería] Error cargando:",e);let t="Ocurrió un error cargando la galería.";e.message&&e.message.includes("API")?t="La API de Google Apps Script no está respondiendo correctamente. Verificá que esté desplegada como pública.":e.message&&e.message.includes("vacía")&&(t="La carpeta de Drive está vacía o no tiene imágenes."),o(t)}}const lightboxEl=document.getElementById("lightbox"),lightboxImg=document.getElementById("lightbox-img"),lightboxCloseBtn=document.querySelector(".lightbox-close"),lightboxPrevBtn=document.querySelector(".lightbox-prev"),lightboxNextBtn=document.querySelector(".lightbox-next");let currentImages=[],currentIndex=0;function openLightbox(e,t,o,n){lightboxEl&&lightboxImg&&(currentImages=o||[],currentIndex=n||0,lightboxImg.src=e,lightboxImg.alt=t||"Imagen ampliada",lightboxEl.classList.add("active"),document.body.style.overflow="hidden",updateNavButtons())}function closeLightbox(){lightboxEl&&lightboxImg&&(lightboxEl.classList.remove("active"),lightboxImg.src="",document.body.style.overflow="")}function updateNavButtons(){lightboxPrevBtn&&lightboxNextBtn&&(lightboxPrevBtn.style.display=currentIndex>0?"flex":"none",lightboxNextBtn.style.display=currentIndex<currentImages.length-1?"flex":"none")}function showPrevImage(){if(currentIndex>0){currentIndex--;const e=currentImages[currentIndex];lightboxImg.src=e.url,lightboxImg.alt=e.name||"Foto "+(currentIndex+1),updateNavButtons()}}function showNextImage(){if(currentIndex<currentImages.length-1){currentIndex++;const e=currentImages[currentIndex];lightboxImg.src=e.url,lightboxImg.alt=e.name||"Foto "+(currentIndex+1),updateNavButtons()}}lightboxCloseBtn&&lightboxCloseBtn.addEventListener("click",function(e){e.stopPropagation(),closeLightbox()}),lightboxPrevBtn&&lightboxPrevBtn.addEventListener("click",function(e){e.stopPropagation(),showPrevImage()}),lightboxNextBtn&&lightboxNextBtn.addEventListener("click",function(e){e.stopPropagation(),showNextImage()}),lightboxEl&&lightboxEl.addEventListener("click",function(e){e.target===lightboxEl&&closeLightbox()}),document.addEventListener("keydown",function(e){"Escape"===e.key?closeLightbox():"ArrowLeft"===e.key?showPrevImage():"ArrowRight"===e.key&&showNextImage()});let touchStartX=0,touchEndX=0,touchStartY=0,touchEndY=0;function handleSwipe(){const e=Math.abs(touchEndX-touchStartX);e>Math.abs(touchEndY-touchStartY)&&e>50&&(touchEndX<touchStartX?showNextImage():touchEndX>touchStartX&&showPrevImage())}lightboxEl&&(lightboxEl.addEventListener("touchstart",function(e){touchStartX=e.changedTouches[0].screenX,touchStartY=e.changedTouches[0].screenY},{passive:!0}),lightboxEl.addEventListener("touchend",function(e){touchEndX=e.changedTouches[0].screenX,touchEndY=e.changedTouches[0].screenY,handleSwipe()},{passive:!0})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",loadGallery):loadGallery()</script></body></html>